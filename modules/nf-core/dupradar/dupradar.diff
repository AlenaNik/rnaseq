Changes in module 'nf-core/dupradar'
--- /dev/null
+++ modules/nf-core/dupradar/nextflow.config
@@ -0,0 +1,35 @@
+if (!params.skip_alignment && !params.skip_qc) {
+    if (!params.skip_dupradar) {
+        process {
+            withName: 'DUPRADAR' {
+                publishDir = [
+                    [
+                        path: { "${params.outdir}/${params.aligner}/dupradar/scatter_plot" },
+                        mode: params.publish_dir_mode,
+                        pattern: "*Dens.pdf"
+                    ],
+                    [
+                        path: { "${params.outdir}/${params.aligner}/dupradar/box_plot" },
+                        mode: params.publish_dir_mode,
+                        pattern: "*Boxplot.pdf"
+                    ],
+                    [
+                        path: { "${params.outdir}/${params.aligner}/dupradar/histogram" },
+                        mode: params.publish_dir_mode,
+                        pattern: "*Hist.pdf"
+                    ],
+                    [
+                        path: { "${params.outdir}/${params.aligner}/dupradar/gene_data" },
+                        mode: params.publish_dir_mode,
+                        pattern: "*Matrix.txt"
+                    ],
+                    [
+                        path: { "${params.outdir}/${params.aligner}/dupradar/intercepts_slope" },
+                        mode: params.publish_dir_mode,
+                        pattern: "*slope.txt"
+                    ]
+                ]
+            }
+        }
+    }
+}

--- modules/nf-core/dupradar/tests/main.nf.test.snap
+++ modules/nf-core/dupradar/tests/main.nf.test.snap
@@ -50,8 +50,8 @@
                         "strandedness": "forward"
                     },
                     [
-                        "test_dup_intercept_mqc.txt:md5,d69369924aeb9695b0e97e755e0d9ea3",
-                        "test_duprateExpDensCurve_mqc.txt:md5,f4a50dc09de81219ed4449c11153ba6e"
+                        "test_dup_intercept_mqc.txt:md5,002855b42a71aa0f407ef7fa19df9ac3",
+                        "test_duprateExpDensCurve_mqc.txt:md5,5c6ab345e3e0089d409624d6a4bf4e40"
                     ]
                 ]
             ]
@@ -150,8 +150,8 @@
                         "strandedness": "forward"
                     },
                     [
-                        "test_dup_intercept_mqc.txt:md5,7b6fb70cbede0d20ffa576a0cc0b249d",
-                        "test_duprateExpDensCurve_mqc.txt:md5,49b44937123c14b622f346cb6156dd4f"
+                        "test_dup_intercept_mqc.txt:md5,11961f0962ffc70e42aa57a12984e0fc",
+                        "test_duprateExpDensCurve_mqc.txt:md5,eb742e354c8d5d6bed8d2ebac087f0ac"
                     ]
                 ]
             ]
@@ -357,4 +357,4 @@
         },
         "timestamp": "2024-03-07T13:07:43.344100132"
     }
-}+}

--- modules/nf-core/dupradar/tests/main.nf.test
+++ modules/nf-core/dupradar/tests/main.nf.test
@@ -3,10 +3,6 @@
     name "Test Process DUPRADAR"
     script "../main.nf"
     process "DUPRADAR"
-
-    tag "modules"
-    tag "modules_nfcore"
-    tag "dupradar"
 
     test("sarscov2 - bam - single_end") {
 

--- modules/nf-core/dupradar/templates/dupradar.r
+++ modules/nf-core/dupradar/templates/dupradar.r
@@ -88,7 +88,6 @@
 #        max: 100
 #        min: 0
 #        scale: 'RdYlGn-rev'
-#        format: '{:.2f}%'
 Sample dupRadar_intercept"
 
 write(line,file=paste0(output_prefix, "_dup_intercept_mqc.txt"),append=TRUE)
@@ -115,15 +114,15 @@
 #    This plot shows the general linear models - a summary of the gene duplication distributions. \"
 #pconfig:
 #    title: 'DupRadar General Linear Model'
-#    xLog: True
+#    xlog: True
 #    xlab: 'expression (reads/kbp)'
 #    ylab: '% duplicate reads'
 #    ymax: 100
 #    ymin: 0
 #    tt_label: '<b>{point.x:.1f} reads/kbp</b>: {point.y:,.2f}% duplicates'
-#    xPlotLines:
+#    x_lines:
 #        - color: 'green'
-#          dashStyle: 'LongDash'
+#          dash: 'LongDash'
 #          label:
 #                style: {color: 'green'}
 #                text: '0.5 RPKM'
@@ -132,7 +131,7 @@
 #          value: 0.5
 #          width: 1
 #        - color: 'red'
-#          dashStyle: 'LongDash'
+#          dash: 'LongDash'
 #          label:
 #                style: {color: 'red'}
 #                text: '1 read/bp'

--- modules/nf-core/dupradar/tests/tags.yml
+++ /dev/null
@@ -1,2 +0,0 @@
-dupradar:
-  - "modules/nf-core/dupradar/**"

************************************************************
